{"version":3,"sources":["components/Togglable.js","components/Blog.js","components/Book.js","components/Notification.js","services/blogs.js","services/login.js","services/books.js","services/registration.js","components/LoginForm.js","components/BlogForm.js","components/BookForm.js","components/RegistrationForm.js","App.js","index.js"],"names":["Togglable","React","forwardRef","props","ref","useState","visible","setVisible","hideWhenVisible","display","showWhenVisible","toggleVisibility","useImperativeHandle","style","onClick","buttonLabel","className","children","cancelButtonLabel","displayName","Blog","blog","blogUpdate","blogRemove","title","author","url","likes","updatedBlog","id","user","username","window","confirm","Book","book","bookRemove","src","picture","stars","day","month","year","Notification","text","baseUrl","token","exportedObject","getAll","axios","get","then","response","data","create","newObject","a","config","headers","Authorization","post","update","put","setToken","newToken","remove","delete","login","credentials","register","LoginForm","handleSubmit","handleUsernameChange","handlePasswordChange","password","onSubmit","value","onChange","type","BlogForm","createBlog","newBlogTitle","setNewBlogTitle","newBlogAuthor","setNewBlogAuthor","newBlogUrl","setNewBlogUrl","event","preventDefault","console","log","target","BookForm","createBook","newBookTitle","setNewBookTitle","newBookAuthor","setNewBookAuthor","newBookUrl","setNewBookUrl","newBookStars","setNewBookStars","newBookPicture","setNewBookPicture","newBookYear","setNewBookYear","newBookMonth","setNewBookMonth","newBookDay","setNewBookDay","handleNameChange","name","App","blogs","setBlogs","books","setBooks","setUsername","setPassword","setName","setUser","toggle","setToggle","notificationText","setNotificationText","notificationStyle","setNotificationStyle","blogFormRef","useRef","bookFormRef","useEffect","blogService","initialBlogs","fetchData","bookService","initialBooks","loggedUserJSON","localStorage","getItem","JSON","parse","addBlog","blogObject","current","newBlog","concat","setTimeout","addBook","bookObject","newBook","blogId","map","filter","bookId","handleLogin","loginService","setItem","stringify","handleRegistration","registrationService","newUser","removeItem","document","location","reload","RegistrationForm","sort","min","max","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.8ba67dd8.chunk.js","sourcesContent":["import React, { useState, useImperativeHandle } from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst Togglable = React.forwardRef((props, ref) => {\n  const [visible, setVisible] = useState(false);\n\n  const hideWhenVisible = { display: visible ? \"none\" : \"\" };\n  const showWhenVisible = { display: visible ? \"\" : \"none\" };\n\n  const toggleVisibility = () => {\n    setVisible(!visible);\n  };\n\n  useImperativeHandle(ref, () => {\n    return { toggleVisibility };\n  });\n\n  return (\n    <div>\n      <div style={hideWhenVisible}>\n        <button onClick={toggleVisibility}>{props.buttonLabel}</button>\n      </div>\n      <div\n        className=\"hiddenByDefault\"\n        style={visible ? { display: \"\" } : { display: \"none\" }}\n      >\n        <div style={showWhenVisible} className=\"togglableContent\">\n          {props.children}\n          <button onClick={toggleVisibility}>{props.cancelButtonLabel}</button>\n        </div>\n      </div>\n    </div>\n  );\n});\n\nTogglable.displayName = \"Togglable\";\n\nTogglable.propTypes = {\n  buttonLabel: PropTypes.string.isRequired,\n  cancelButtonLabel: PropTypes.string.isRequired,\n};\n\nexport default Togglable;\n","import React from \"react\";\nimport Togglable from \"./Togglable\";\n\nconst Blog = ({ blog, blogUpdate, blogRemove }) => {\n  const likeHandler = () => {\n    const updatedBlog = { ...blog, likes: blog.likes + 1 };\n    blogUpdate(blog.id, updatedBlog);\n  };\n  const removeHandler = () => {\n    window.confirm(`Delete ${blog.title} by ${blog.author}?`) &&\n      blogRemove(blog.id);\n  };\n\n  return (\n    <div className=\"blog-container\">\n      <div className=\"blogTitle\">\n        <strong>{blog.title} </strong>\n        by\n        <strong> {blog.author}</strong>\n      </div>\n\n      <Togglable buttonLabel=\"View\" cancelButtonLabel=\"Hide\">\n        <p>Url: {blog.url}</p>\n        <p className=\"likeContainer\">\n          {blog.likes === 1 ? `${blog.likes} like` : `${blog.likes} likes`}\n          <button className=\"likeButton\" onClick={likeHandler}>\n            Like\n          </button>\n        </p>\n        <p>User: {blog.user.username}</p>\n        <button onClick={removeHandler}>Remove</button>\n      </Togglable>\n    </div>\n  );\n};\nexport default Blog;\n","import React from \"react\";\nimport Togglable from \"./Togglable\";\n\nconst Book = ({ book, bookRemove }) => {\n  const removeHandler = () => {\n    window.confirm(`Delete ${book.title} by ${book.author}?`) &&\n      bookRemove(book.id);\n  };\n\n  return (\n    <div className=\"blog-container\">\n      <div className=\"blogTitle\">\n        <strong>{book.title} </strong>\n        by\n        <strong> {book.author}</strong>\n      </div>\n\n      <Togglable buttonLabel=\"View\" cancelButtonLabel=\"Hide\">\n        <img src={book.picture} />\n        <p>Url: {book.url}</p>\n        <p>Stars: {book.stars}</p>\n        <p>Date: {`${book.day}.${book.month}.${book.year}`}</p>\n        <button onClick={removeHandler}>Remove</button>\n      </Togglable>\n    </div>\n  );\n};\nexport default Book;\n","import React from \"react\";\n\nconst Notification = (props) => {\n  if (props === null) {\n    return null;\n  }\n  return <div className={props.style}>{props.text}</div>;\n};\n\nexport default Notification;\n","import axios from \"axios\";\nconst baseUrl = \"/api/blogs\";\n\nlet token = null;\nconst setToken = (newToken) => {\n  token = `bearer ${newToken}`;\n};\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = async (newObject) => {\n  const config = { headers: { Authorization: token } };\n  const response = await axios.post(baseUrl, newObject, config);\n  return response.data;\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then((response) => response.data);\n};\n\nconst remove = (id) => {\n  const config = { headers: { Authorization: token } };\n  const request = axios.delete(`${baseUrl}/${id}`, config);\n  return request.then((response) => response.data);\n};\n\nconst exportedObject = {\n  getAll,\n  create,\n  update,\n  setToken,\n  remove,\n};\n\nexport default exportedObject;\n","import axios from \"axios\";\nconst baseUrl = \"/api/login\";\n\nconst login = async (credentials) => {\n  const response = await axios.post(baseUrl, credentials);\n  return response.data;\n};\n\nexport default { login };\n","import axios from \"axios\";\nconst baseUrl = \"/api/books\";\n\nlet token = null;\nconst setToken = (newToken) => {\n  token = `bearer ${newToken}`;\n};\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then((response) => response.data);\n};\n\nconst create = async (newObject) => {\n  const config = { headers: { Authorization: token } };\n  const response = await axios.post(baseUrl, newObject, config);\n  return response.data;\n};\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then((response) => response.data);\n};\n\nconst remove = (id) => {\n  const config = { headers: { Authorization: token } };\n  const request = axios.delete(`${baseUrl}/${id}`, config);\n  return request.then((response) => response.data);\n};\n\nconst exportedObject = {\n  getAll,\n  create,\n  update,\n  setToken,\n  remove,\n};\n\nexport default exportedObject;\n","import axios from \"axios\";\nconst baseUrl = \"/api/users\";\n\nconst register = async (credentials) => {\n  const response = await axios.post(baseUrl, credentials);\n  return response.data;\n};\n\nexport default { register };\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst LoginForm = ({\n  handleSubmit,\n  handleUsernameChange,\n  handlePasswordChange,\n  username,\n  password,\n}) => {\n  return (\n    <div>\n      <h2>Login</h2>\n\n      <form onSubmit={handleSubmit}>\n        <div>\n          Username:\n          <input\n            id=\"username\"\n            value={username}\n            onChange={handleUsernameChange}\n          />\n        </div>\n        <div>\n          Password:\n          <input\n            id=\"password\"\n            type=\"password\"\n            value={password}\n            onChange={handlePasswordChange}\n          />\n        </div>\n        <button id=\"login-button\" type=\"submit\">\n          Log in\n        </button>\n      </form>\n    </div>\n  );\n};\n\nLoginForm.propTypes = {\n  handleSubmit: PropTypes.func.isRequired,\n  handleUsernameChange: PropTypes.func.isRequired,\n  handlePasswordChange: PropTypes.func.isRequired,\n  username: PropTypes.string.isRequired,\n  password: PropTypes.string.isRequired,\n};\n\nexport default LoginForm;\n","import React, { useState } from \"react\";\n\nconst BlogForm = ({ createBlog }) => {\n  const [newBlogTitle, setNewBlogTitle] = useState(\"\");\n  const [newBlogAuthor, setNewBlogAuthor] = useState(\"\");\n  const [newBlogUrl, setNewBlogUrl] = useState(\"\");\n\n  // CHANGE HANDLERS\n  const handleTitleChange = (event) => {\n    console.log(event.target.value);\n    setNewBlogTitle(event.target.value);\n  };\n  const handleAuthorChange = (event) => {\n    console.log(event.target.value);\n    setNewBlogAuthor(event.target.value);\n  };\n  const handleUrlChange = (event) => {\n    console.log(event.target.value);\n    setNewBlogUrl(event.target.value);\n  };\n\n  // CREATING BLOG OBJECT\n  const addBlog = (event) => {\n    event.preventDefault();\n    createBlog({\n      title: newBlogTitle,\n      author: newBlogAuthor,\n      url: newBlogUrl,\n    });\n\n    setNewBlogTitle(\"\");\n    setNewBlogAuthor(\"\");\n    setNewBlogUrl(\"\");\n  };\n\n  return (\n    <div className=\"formDiv\">\n      <h2>Add a new blog</h2>\n      <form onSubmit={addBlog}>\n        <p>\n          Title:{\" \"}\n          <input\n            id=\"titleInput\"\n            value={newBlogTitle}\n            onChange={handleTitleChange}\n            className=\"titleInput\"\n          />\n        </p>\n        <p>\n          Author:{\" \"}\n          <input\n            id=\"authorInput\"\n            value={newBlogAuthor}\n            onChange={handleAuthorChange}\n            className=\"authorInput\"\n          />\n        </p>\n        <p>\n          Url:{\" \"}\n          <input\n            id=\"urlInput\"\n            value={newBlogUrl}\n            onChange={handleUrlChange}\n            className=\"urlInput\"\n          />\n        </p>\n        <button id=\"newBlogButton\" type=\"submit\">\n          Add\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default BlogForm;\n","import React, { useState } from \"react\";\n\nconst BookForm = ({ createBook }) => {\n  const [newBookTitle, setNewBookTitle] = useState(\"\");\n  const [newBookAuthor, setNewBookAuthor] = useState(\"\");\n  const [newBookUrl, setNewBookUrl] = useState(\"\");\n  const [newBookStars, setNewBookStars] = useState(\"\");\n  const [newBookPicture, setNewBookPicture] = useState(\"\");\n  const [newBookYear, setNewBookYear] = useState(\"\");\n  const [newBookMonth, setNewBookMonth] = useState(\"\");\n  const [newBookDay, setNewBookDay] = useState(\"\");\n\n  // CHANGE HANDLERS\n  const handleTitleChange = (event) => setNewBookTitle(event.target.value);\n  const handleAuthorChange = (event) => setNewBookAuthor(event.target.value);\n  const handleUrlChange = (event) => setNewBookUrl(event.target.value);\n  const handleStarsChange = (event) => setNewBookStars(event.target.value);\n  const handlePictureChange = (event) => setNewBookPicture(event.target.value);\n  const handleYearChange = (event) => setNewBookYear(event.target.value);\n  const handleMonthChange = (event) => setNewBookMonth(event.target.value);\n  const handleDayChange = (event) => setNewBookDay(event.target.value);\n\n  // CREATING BLOG OBJECT\n  const addBook = (event) => {\n    event.preventDefault();\n    createBook({\n      title: newBookTitle,\n      author: newBookAuthor,\n      url: newBookUrl,\n      stars: newBookStars,\n      picture: newBookPicture,\n      year: newBookYear,\n      month: newBookMonth,\n      day: newBookDay,\n    });\n\n    setNewBookTitle(\"\");\n    setNewBookAuthor(\"\");\n    setNewBookUrl(\"\");\n    setNewBookStars(\"\");\n    setNewBookPicture(\"\");\n    setNewBookYear(\"\");\n    setNewBookMonth(\"\");\n    setNewBookDay(\"\");\n  };\n\n  return (\n    <div className=\"formDiv\">\n      <h2>Add a new book</h2>\n      <form onSubmit={addBook}>\n        <p>\n          Title:{\" \"}\n          <input\n            id=\"titleInput\"\n            value={newBookTitle}\n            onChange={handleTitleChange}\n            className=\"titleInput\"\n          />\n        </p>\n        <p>\n          Author:{\" \"}\n          <input\n            id=\"authorInput\"\n            value={newBookAuthor}\n            onChange={handleAuthorChange}\n            className=\"authorInput\"\n          />\n        </p>\n        <p>\n          Url:{\" \"}\n          <input\n            id=\"urlInput\"\n            value={newBookUrl}\n            onChange={handleUrlChange}\n            className=\"urlInput\"\n          />\n        </p>\n        <p>\n          Stars:{\" \"}\n          <input\n            id=\"starsInput\"\n            value={newBookStars}\n            onChange={handleStarsChange}\n            className=\"starsInput\"\n          />\n        </p>\n        <p>\n          Picture:{\" \"}\n          <input\n            id=\"pictureInput\"\n            value={newBookPicture}\n            onChange={handlePictureChange}\n            className=\"pictureInput\"\n          />\n        </p>\n        <p>\n          Year:{\" \"}\n          <input\n            id=\"dateInput\"\n            value={newBookYear}\n            onChange={handleYearChange}\n            className=\"dateInput\"\n          />\n        </p>\n        <p>\n          Month:{\" \"}\n          <input\n            id=\"dateInput\"\n            value={newBookMonth}\n            onChange={handleMonthChange}\n            className=\"dateInput\"\n          />\n        </p>\n        <p>\n          Day:{\" \"}\n          <input\n            id=\"dateInput\"\n            value={newBookDay}\n            onChange={handleDayChange}\n            className=\"dateInput\"\n          />\n        </p>\n        <button id=\"newBookButton\" type=\"submit\">\n          Add\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default BookForm;\n","import React from \"react\";\n\nconst LoginForm = ({\n  handleSubmit,\n  handleUsernameChange,\n  handlePasswordChange,\n  handleNameChange,\n  username,\n  password,\n  name,\n}) => {\n  return (\n    <div>\n      <h2>Registration</h2>\n\n      <form onSubmit={handleSubmit}>\n        <div>\n          Name:\n          <input id=\"name\" value={name} onChange={handleNameChange} />\n        </div>\n        <div>\n          Login:\n          <input\n            id=\"username\"\n            value={username}\n            onChange={handleUsernameChange}\n          />\n        </div>\n        <div>\n          Password:\n          <input\n            id=\"password\"\n            type=\"password\"\n            value={password}\n            onChange={handlePasswordChange}\n          />\n        </div>\n        <button id=\"register-button\" type=\"submit\">\n          Register\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default LoginForm;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport Blog from \"./components/Blog\";\nimport Book from \"./components/Book\";\nimport Notification from \"./components/Notification\";\nimport blogService from \"./services/blogs\";\nimport loginService from \"./services/login\";\nimport bookService from \"./services/books\";\nimport registrationService from \"./services/registration\";\nimport LoginForm from \"./components/LoginForm\";\nimport BlogForm from \"./components/BlogForm\";\nimport BookForm from \"./components/BookForm\";\nimport RegistrationForm from \"./components/RegistrationForm\";\nimport Togglable from \"./components/Togglable\";\n\nconst App = () => {\n  const [blogs, setBlogs] = useState([]);\n  const [books, setBooks] = useState([]);\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [name, setName] = useState(\"\");\n\n  const [user, setUser] = useState(null);\n\n  const [toggle, setToggle] = useState(false);\n  const [notificationText, setNotificationText] = useState(\"\");\n  const [notificationStyle, setNotificationStyle] = useState(\"notification\");\n\n  const blogFormRef = useRef();\n  const bookFormRef = useRef();\n\n  // EFFECTS\n  useEffect(() => {\n    const fetchData = async () => {\n      const initialBlogs = await blogService.getAll();\n      setBlogs(initialBlogs);\n    };\n    fetchData();\n  }, []);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const initialBooks = await bookService.getAll();\n      setBooks(initialBooks);\n    };\n    fetchData();\n  }, []);\n\n  useEffect(() => {\n    const loggedUserJSON = window.localStorage.getItem(\"loggedBlogUser\");\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON);\n      setUser(user);\n      blogService.setToken(user.token);\n      bookService.setToken(user.token);\n    }\n  }, []);\n\n  // ADDING BLOG OBJECT\n  const addBlog = async (blogObject) => {\n    blogFormRef.current.toggleVisibility();\n    if (\n      blogObject.title !== \"\" &&\n      blogObject.author !== \"\" &&\n      blogObject.url !== \"\"\n    ) {\n      const newBlog = await blogService.create(blogObject);\n      setBlogs(blogs.concat(newBlog));\n\n      setNotificationStyle(\"notification\");\n      setNotificationText(\n        `A new blog ${blogObject.title} by ${blogObject.author} added`\n      );\n      setToggle(!toggle);\n      setTimeout(() => {\n        setToggle(false);\n      }, 5000);\n    } else {\n      setNotificationStyle(\"warning\");\n      setNotificationText(\"You must fill all fields in order to add a blog\");\n      setToggle(!toggle);\n      setTimeout(() => {\n        setToggle(false);\n      }, 5000);\n    }\n  };\n\n  // ADD BOOK\n  const addBook = async (bookObject) => {\n    bookFormRef.current.toggleVisibility();\n    if (\n      bookObject.title !== \"\" &&\n      bookObject.author !== \"\" &&\n      bookObject.url !== \"\"\n    ) {\n      const newBook = await bookService.create(bookObject);\n      setBooks(books.concat(newBook));\n\n      setNotificationStyle(\"notification\");\n      setNotificationText(\n        `A new book ${bookObject.title} by ${bookObject.author} added`\n      );\n      setToggle(!toggle);\n      setTimeout(() => {\n        setToggle(false);\n      }, 5000);\n    } else {\n      setNotificationStyle(\"warning\");\n      setNotificationText(\"You must fill all fields in order to add a book\");\n      setToggle(!toggle);\n      setTimeout(() => {\n        setToggle(false);\n      }, 5000);\n    }\n  };\n\n  // UPDATE BLOG\n  const blogUpdate = async (blogId, blogObject) => {\n    await blogService.update(blogId, blogObject);\n\n    const updatedBlog = { ...blogObject, blogId };\n\n    setBlogs(\n      blogs.map((blog) => (blog.id === updatedBlog.id ? updatedBlog : blog))\n    );\n  };\n\n  // REMOVE BLOG\n  const blogRemove = async (blogId) => {\n    await blogService.remove(blogId);\n\n    setBlogs(blogs.filter((blog) => blog.id !== blogId));\n  };\n\n  // REMOVE BOOK\n  const bookRemove = async (bookId) => {\n    await bookService.remove(bookId);\n\n    setBooks(books.filter((book) => book.id !== bookId));\n  };\n\n  // LOG IN & OUT\n  const handleLogin = async (event) => {\n    event.preventDefault();\n    try {\n      const user = await loginService.login({\n        username,\n        password,\n      });\n      window.localStorage.setItem(\"loggedBlogUser\", JSON.stringify(user));\n      blogService.setToken(user.token);\n      setUser(user);\n      setUsername(\"\");\n      setPassword(\"\");\n      setNotificationStyle(\"notification\");\n      setNotificationText(`User ${user.username} is logged in`);\n      setToggle(!toggle);\n      setTimeout(() => {\n        setToggle(false);\n      }, 5000);\n    } catch (exception) {\n      setNotificationStyle(\"warning\");\n      setNotificationText(\"Wrong username or password\");\n      setToggle(!toggle);\n      setTimeout(() => {\n        setToggle(false);\n      }, 5000);\n    }\n  };\n\n  const handleLogout = () => {\n    window.localStorage.removeItem(\"loggedBlogUser\");\n    document.location.reload();\n  };\n\n  const handleRegistration = async (event) => {\n    event.preventDefault();\n    const newUser = await registrationService.register({\n      name,\n      username,\n      password,\n    });\n    setNotificationStyle(\"notification\");\n    setNotificationText(\n      `User ${newUser.username} was succesfully registered. Now you can log in.`\n    );\n    setToggle(!toggle);\n    setTimeout(() => {\n      setToggle(false);\n    }, 10000);\n  };\n\n  // FORMS\n  const loginForm = () => (\n    <Togglable buttonLabel=\"Log in\" cancelButtonLabel=\"Cancel\">\n      <LoginForm\n        username={username}\n        password={password}\n        handleUsernameChange={({ target }) => setUsername(target.value)}\n        handlePasswordChange={({ target }) => setPassword(target.value)}\n        handleSubmit={handleLogin}\n      />\n    </Togglable>\n  );\n\n  const blogForm = () => (\n    <Togglable\n      buttonLabel=\"New blog\"\n      cancelButtonLabel=\"Cancel\"\n      ref={blogFormRef}\n    >\n      <BlogForm createBlog={addBlog} />\n    </Togglable>\n  );\n\n  const bookForm = () => (\n    <Togglable\n      buttonLabel=\"New book\"\n      cancelButtonLabel=\"Cancel\"\n      ref={bookFormRef}\n    >\n      <BookForm createBook={addBook} />\n    </Togglable>\n  );\n\n  const registrationForm = () => (\n    <Togglable buttonLabel=\"Register\" cancelButtonLabel=\"Cancel\">\n      <RegistrationForm\n        name={name}\n        username={username}\n        password={password}\n        handleNameChange={({ target }) => setName(target.value)}\n        handleUsernameChange={({ target }) => setUsername(target.value)}\n        handlePasswordChange={({ target }) => setPassword(target.value)}\n        handleSubmit={handleRegistration}\n      />\n    </Togglable>\n  );\n\n  return (\n    <div>\n      <h1>Blogs</h1>\n      {user && (\n        <div className=\"log\">\n          {user.name} is logged in\n          <button onClick={handleLogout}>Logout</button>\n        </div>\n      )}\n      {toggle && (\n        <Notification text={notificationText} style={notificationStyle} />\n      )}\n      {!user && registrationForm()}\n      {user === null ? (\n        loginForm()\n      ) : (\n        <>\n          {blogForm()}\n          <div>\n            {blogs\n              .sort((min, max) => max.likes - min.likes)\n              .filter((blog) => blog.user.username === user.username)\n              .map((blog) => (\n                <Blog\n                  key={blog.id}\n                  blog={blog}\n                  blogUpdate={blogUpdate}\n                  blogRemove={blogRemove}\n                />\n              ))}\n          </div>\n          {bookForm()}\n          <h1>Books</h1>\n          <div>\n            {books\n              .sort((min, max) => max.year - min.year)\n              .filter((book) => book.user.username === user.username)\n              .map((book) => (\n                <Book key={book.id} book={book} bookRemove={bookRemove} />\n              ))}\n            {console.log(books)}\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}